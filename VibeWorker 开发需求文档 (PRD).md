# VibeWorker å¼€å‘éœ€æ±‚æ–‡æ¡£ (PRD)
## ä¸€ã€é¡¹ç›®ä»‹ç»
### 1. åŠŸèƒ½ä¸ç›®æ ‡å®šä½
**VibeWorker** æ˜¯ä¸€ä¸ªåŸºäº **Python** æ„å»ºçš„ã€è½»é‡çº§ä¸”é«˜åº¦é€æ˜çš„ AI æ•°å­—å‘˜å·¥ Agent ç³»ç»Ÿã€‚
æœ¬é¡¹ç›®ä¸è¿½æ±‚æ„å»ºåºå¤§çš„ SaaS å¹³å°ï¼Œè€Œæ˜¯è‡´åŠ›äºæ‰“é€ ä¸€ä¸ª**è¿è¡Œåœ¨æœ¬åœ°çš„ã€æ‹¥æœ‰â€œçœŸå®è®°å¿†â€çš„æ™ºèƒ½æ•°å­—å‘˜å·¥**ã€‚å®ƒå¯ä»¥å¸®åŠ©ç”¨æˆ·å¤„ç†å„ç±»ä»»åŠ¡ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºä¿¡æ¯æ£€ç´¢ã€æ•°æ®å¤„ç†ã€ä»£ç æ‰§è¡Œã€æ–‡ä»¶ç®¡ç†ç­‰ã€‚å…¶æ ¸å¿ƒå·®å¼‚åŒ–å®šä½åœ¨äºï¼š

+ **æ–‡ä»¶å³è®°å¿† (File-first Memory)**ï¼šæ‘’å¼ƒä¸é€æ˜çš„å‘é‡æ•°æ®åº“ï¼Œå›å½’æœ€åŸå§‹ã€æœ€é€šç”¨çš„ Markdown/JSON æ–‡ä»¶ç³»ç»Ÿã€‚ç”¨æˆ·çš„æ¯ä¸€æ¬¡å¯¹è¯ã€Agent çš„æ¯ä¸€æ¬¡åæ€ï¼Œéƒ½ä»¥äººç±»å¯è¯»çš„æ–‡ä»¶å½¢å¼å­˜åœ¨ã€‚
+ **æŠ€èƒ½å³æ’ä»¶ (Skills as Plugins)**ï¼šéµå¾ª Anthropic çš„ Agent Skills èŒƒå¼ï¼Œé€šè¿‡æ–‡ä»¶å¤¹ç»“æ„ç®¡ç†èƒ½åŠ›ï¼Œå®ç°â€œæ‹–å…¥å³ç”¨â€çš„æŠ€èƒ½æ‰©å±•ã€‚
+ **é€æ˜å¯æ§**ï¼šæ‰€æœ‰çš„ System Prompt æ‹¼æ¥é€»è¾‘ã€å·¥å…·è°ƒç”¨è¿‡ç¨‹ã€è®°å¿†è¯»å†™æ“ä½œå¯¹å¼€å‘è€…å®Œå…¨é€æ˜ï¼Œæ‹’ç»â€œé»‘ç›’â€Agentã€‚

### 2. é¡¹ç›®æ ¸å¿ƒæŠ€æœ¯æ¶æ„
æœ¬é¡¹ç›®è¦æ±‚å®Œå…¨é‡‡ç”¨ **å‰åç«¯åˆ†ç¦»** æ¶æ„ï¼Œåç«¯ä½œä¸ºçº¯ API æœåŠ¡è¿è¡Œã€‚

+ **åç«¯è¯­è¨€**ï¼šPython 3.10+ (å¼ºåˆ¶ä½¿ç”¨ Type Hinting)ã€‚
+ **Web æ¡†æ¶**ï¼š**FastAPI** (æä¾› RESTful æ¥å£ï¼Œæ”¯æŒå¼‚æ­¥å¤„ç†)ã€‚
+ **Agent ç¼–æ’å¼•æ“**ï¼š**LangChain 1.x (Stable Release)**ã€‚
    - **æ ¸å¿ƒ API**ï¼šå¿…é¡»ä½¿ç”¨ `**create_agent**` API (`from langchain.agents import create_agent`)ã€‚è¿™æ˜¯ LangChain 1.0 ç‰ˆæœ¬å‘å¸ƒçš„æœ€æ–°æ ‡å‡† APIï¼Œç”¨äºæ„å»ºåŸºäº Graph è¿è¡Œæ—¶çš„ Agentã€‚
    - **æ ¸å¿ƒè¯´æ˜**ï¼šä¸¥ç¦ä½¿ç”¨æ—§ç‰ˆçš„ `AgentExecutor` æˆ–æ—©æœŸçš„ `create_react_agent`ï¼ˆæ—§é“¾å¼ç»“æ„ï¼‰ã€‚`create_agent` åº•å±‚è™½ç„¶åŸºäº LangGraph è¿è¡Œæ—¶ï¼Œä½†æä¾›äº†æ›´ç®€æ´çš„æ ‡å‡†åŒ–æ¥å£ï¼Œæœ¬é¡¹ç›®åº”ç´§è·Ÿè¿™ä¸€æœ€æ–°èŒƒå¼ã€‚
+ **RAG æ£€ç´¢å¼•æ“**ï¼š**LlamaIndex (LlamaIndex Core)**ã€‚
    - ç”¨äºå¤„ç†éç»“æ„åŒ–æ–‡æ¡£çš„æ··åˆæ£€ç´¢ï¼ˆHybrid Searchï¼‰ï¼Œä½œä¸º Agent çš„çŸ¥è¯†å¤–æŒ‚ã€‚
+ **æ¨¡å‹æ¥å£**ï¼šå…¼å®¹ OpenAI API æ ¼å¼ï¼ˆæ”¯æŒ OpenRouter, Zenmux ç­‰èšåˆæ¨¡å‹å¹³å°ï¼Œå¹¶ä¸”ä¹Ÿæ”¯æŒç”¨æˆ·è‡ªå·±é…ç½®APIåœ°å€å’ŒKeyï¼‰ã€‚
+ **æ•°æ®å­˜å‚¨**ï¼šæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ (Local File System) ä¸ºä¸»ï¼Œä¸å¼•å…¥ MySQL/Redis ç­‰é‡å‹ä¾èµ–ã€‚
+ **æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ** âœ… å·²å®ç°ï¼š
    - åŒå±‚ç¼“å­˜æ¶æ„ï¼ˆL1 å†…å­˜ + L2 ç£ç›˜ï¼‰
    - æ”¯æŒ URL ç¼“å­˜ã€LLM ç¼“å­˜ã€Prompt ç¼“å­˜ã€ç¿»è¯‘ç¼“å­˜
    - é€šç”¨å·¥å…·ç¼“å­˜è£…é¥°å™¨ï¼Œå¯ä¸ºä»»ä½•å·¥å…·æ·»åŠ ç¼“å­˜èƒ½åŠ›
    - æ˜¾è‘—æå‡å“åº”é€Ÿåº¦ï¼ˆ10-100xï¼‰å¹¶èŠ‚çœ API æˆæœ¬

## äºŒã€å†…ç½®å·¥å…·
VibeWorker åœ¨å¯åŠ¨æ—¶ï¼Œé™¤äº†åŠ è½½ç”¨æˆ·è‡ªå®šä¹‰çš„ Skills å¤–ï¼Œå¿…é¡»å†…ç½®ä»¥ä¸‹ 5 ä¸ªæ ¸å¿ƒåŸºç¡€å·¥å…·ï¼ˆCore Toolsï¼‰ã€‚æ ¹æ®â€œä¼˜å…ˆä½¿ç”¨ LangChain åŸç”Ÿå·¥å…·â€çš„åŸåˆ™ï¼ŒæŠ€æœ¯é€‰å‹æ›´æ–°å¦‚ä¸‹ï¼š

### 1. å‘½ä»¤è¡Œæ“ä½œå·¥å…· (Command Line Interface)
+ **åŠŸèƒ½æè¿°**ï¼šå…è®¸ Agent åœ¨å—é™çš„å®‰å…¨ç¯å¢ƒä¸‹æ‰§è¡Œ Shell å‘½ä»¤ã€‚
+ **å®ç°é€»è¾‘**ï¼š
    - **ç›´æ¥ä½¿ç”¨ LangChain å†…ç½®å·¥å…·**ï¼š`langchain_community.tools.ShellTool`ã€‚
    - **é…ç½®è¦æ±‚**ï¼š
        * åˆå§‹åŒ–æ—¶éœ€é…ç½® `root_dir` é™åˆ¶æ“ä½œèŒƒå›´ï¼ˆæ²™ç®±åŒ–ï¼‰ï¼Œé˜²æ­¢ Agent ä¿®æ”¹ç³»ç»Ÿå…³é”®æ–‡ä»¶ã€‚
        * éœ€é¢„ç½®é»‘åå•æ‹¦æˆªé«˜å±æŒ‡ä»¤ï¼ˆå¦‚ `rm -rf /`ï¼‰ã€‚
+ **å·¥å…·åç§°**ï¼š`terminal`ã€‚

### 2. Python ä»£ç è§£é‡Šå™¨ (Python REPL)
+ **åŠŸèƒ½æè¿°**ï¼šèµ‹äºˆ Agent é€»è¾‘è®¡ç®—ã€æ•°æ®å¤„ç†å’Œè„šæœ¬æ‰§è¡Œçš„èƒ½åŠ›ã€‚
+ **å®ç°é€»è¾‘**ï¼š
    - **ç›´æ¥ä½¿ç”¨ LangChain å†…ç½®å·¥å…·**ï¼š`langchain_experimental.tools.PythonREPLTool`ã€‚
    - **é…ç½®è¦æ±‚**ï¼š
        * è¯¥å·¥å…·ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„ Python äº¤äº’ç¯å¢ƒã€‚
        * **æ³¨æ„**ï¼šç”±äº `PythonREPLTool` ä½äº `experimental` åŒ…ä¸­ï¼Œéœ€ç¡®ä¿ä¾èµ–é¡¹å®‰è£…æ­£ç¡®ã€‚
+ **å·¥å…·åç§°**ï¼š`python_repl`ã€‚

### 3. Fetch ç½‘ç»œä¿¡æ¯è·å–
+ **åŠŸèƒ½æè¿°**ï¼šç”¨äºè·å–æŒ‡å®š URL çš„ç½‘é¡µå†…å®¹ï¼ŒAgent è”ç½‘çš„æ ¸å¿ƒã€‚
+ **å®ç°é€»è¾‘**ï¼š
    - **ç›´æ¥ä½¿ç”¨ LangChain å†…ç½®å·¥å…·**ï¼š`langchain_community.tools.RequestsGetTool`ã€‚
    - **å¢å¼ºé…ç½® (Wrapper)**ï¼š
        * åŸç”Ÿ `RequestsGetTool` è¿”å›çš„æ˜¯åŸå§‹ HTMLï¼ŒToken æ¶ˆè€—å·¨å¤§ã€‚
        * **å¿…é¡»å°è£…**ï¼šå»ºè®®ç»§æ‰¿è¯¥ç±»æˆ–åˆ›å»ºä¸€ä¸ª Wrapperï¼Œåœ¨è·å–å†…å®¹åä½¿ç”¨ `BeautifulSoup` æˆ– `html2text` åº“æ¸…æ´—æ•°æ®ï¼Œä»…è¿”å› Markdown æˆ–çº¯æ–‡æœ¬å†…å®¹ã€‚
+ **å·¥å…·åç§°**ï¼š`fetch_url`ã€‚

### 4. æ–‡ä»¶è¯»å–å·¥å…· (File Reader)
+ **åŠŸèƒ½æè¿°**ï¼šç”¨äºç²¾å‡†è¯»å–æœ¬åœ°æŒ‡å®šæ–‡ä»¶çš„å†…å®¹ã€‚è¿™æ˜¯ Agent Skills æœºåˆ¶çš„æ ¸å¿ƒä¾èµ–ï¼Œç”¨äºè¯»å– `SKILL.md` çš„è¯¦ç»†è¯´æ˜ã€‚
+ **å®ç°é€»è¾‘**ï¼š
    - **ç›´æ¥ä½¿ç”¨ LangChain å†…ç½®å·¥å…·**ï¼š`langchain_community.tools.file_management.ReadFileTool`ã€‚
    - **é…ç½®è¦æ±‚**ï¼š
        * å¿…é¡»è®¾ç½® `root_dir` ä¸ºé¡¹ç›®æ ¹ç›®å½•ï¼Œä¸¥ç¦ Agent è¯»å–é¡¹ç›®ä»¥å¤–çš„ç³»ç»Ÿæ–‡ä»¶ã€‚
+ **å·¥å…·åç§°**ï¼š`read_file`ã€‚

### 5. RAG æ£€ç´¢å·¥å…· (Hybrid Retrieval)
+ **åŠŸèƒ½æè¿°**ï¼šå½“ç”¨æˆ·è¯¢é—®å…·ä½“çš„çŸ¥è¯†åº“å†…å®¹ï¼ˆéå¯¹è¯å†å²ï¼‰æ—¶ï¼ŒAgent å¯è°ƒç”¨æ­¤å·¥å…·è¿›è¡Œæ·±åº¦æ£€ç´¢ã€‚
+ **æŠ€æœ¯é€‰å‹**ï¼š**LlamaIndex**ã€‚
+ **å®ç°é€»è¾‘**ï¼š
    - **ç´¢å¼•æ„å»º**ï¼šæ”¯æŒæ‰«ææŒ‡å®šç›®å½•ï¼ˆå¦‚ `knowledge/`ï¼‰ä¸‹çš„ PDF/MD/TXT æ–‡ä»¶ï¼Œæ„å»ºæœ¬åœ°ç´¢å¼•ã€‚
    - **æ··åˆæ£€ç´¢**ï¼šå¿…é¡»å®ç° **Hybrid Search**ï¼ˆå…³é”®è¯æ£€ç´¢ BM25 + å‘é‡æ£€ç´¢ Vector Searchï¼‰ã€‚
    - **æŒä¹…åŒ–**ï¼šç´¢å¼•æ–‡ä»¶éœ€æŒä¹…åŒ–å­˜å‚¨åœ¨æœ¬åœ°ï¼ˆ`storage/`ï¼‰ã€‚
+ **å·¥å…·åç§°**ï¼š`search_knowledge_base`ã€‚

## ä¸‰ã€æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ âœ… å·²å®ç°
### 1. ç¼“å­˜ç³»ç»Ÿæ¦‚è¿°
VibeWorker å†…ç½®æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿï¼Œé€šè¿‡åŒå±‚ç¼“å­˜æ¶æ„ï¼ˆL1 å†…å­˜ + L2 ç£ç›˜ï¼‰æ˜¾è‘—æå‡æ€§èƒ½å¹¶èŠ‚çœ API æˆæœ¬ã€‚æ‰€æœ‰ç¼“å­˜ä»¥ JSON æ–‡ä»¶å½¢å¼å­˜å‚¨åœ¨æœ¬åœ° `.cache/` ç›®å½•ï¼Œå®Œå…¨é€æ˜å¯å®¡è®¡ã€‚

**æ ¸å¿ƒç‰¹æ€§ï¼š**
- **åŒå±‚ç¼“å­˜æ¶æ„**ï¼šL1 å†…å­˜ç¼“å­˜ï¼ˆæ¯«ç§’çº§è®¿é—®ï¼‰+ L2 ç£ç›˜ç¼“å­˜ï¼ˆæŒä¹…åŒ–ï¼Œè¿›ç¨‹é‡å¯åå¯å¤ç”¨ï¼‰
- **å¤šç§ç¼“å­˜ç±»å‹**ï¼šURL ç¼“å­˜ã€LLM ç¼“å­˜ã€Prompt ç¼“å­˜ã€ç¿»è¯‘ç¼“å­˜ã€é€šç”¨å·¥å…·ç¼“å­˜
- **æ™ºèƒ½å¤±æ•ˆç­–ç•¥**ï¼šåŸºäº TTLï¼ˆTime-To-Liveï¼‰è‡ªåŠ¨è¿‡æœŸï¼ŒLRUï¼ˆLeast Recently Usedï¼‰æ·˜æ±°
- **å¯è§†åŒ–æŒ‡ç¤ºå™¨**ï¼šå‰ç«¯æ˜¾ç¤º âš¡ å›¾æ ‡ï¼Œä¸€ç›®äº†ç„¶
- **çµæ´»é…ç½®**ï¼šé€šè¿‡ `.env` ç²¾ç»†æ§åˆ¶æ¯ç§ç¼“å­˜çš„å¼€å…³å’Œ TTL
- **é€šç”¨è£…é¥°å™¨**ï¼šé€šè¿‡ `@cached_tool` è£…é¥°å™¨å¯ä¸ºä»»ä½•å·¥å…·æ·»åŠ ç¼“å­˜èƒ½åŠ›

### 2. ç¼“å­˜ç±»å‹ä¸é…ç½®

| ç¼“å­˜ç±»å‹ | é»˜è®¤å¼€å…³ | é»˜è®¤ TTL | å­˜å‚¨ä½ç½® | ç”¨é€” |
|---------|---------|----------|----------|------|
| **URL ç¼“å­˜** | âœ… å¼€å¯ | 1 å°æ—¶ | `.cache/url/` | ç½‘é¡µè¯·æ±‚ç»“æœ |
| **LLM ç¼“å­˜** | âŒ å…³é—­ | 24 å°æ—¶ | `.cache/llm/` | Agent å“åº”ï¼ˆé»˜è®¤å…³é—­ä»¥ä¿æŒæ¢ç´¢æ€§ï¼‰ |
| **Prompt ç¼“å­˜** | âœ… å¼€å¯ | 10 åˆ†é’Ÿ | `.cache/prompt/` | System Prompt æ‹¼æ¥ç»“æœ |
| **ç¿»è¯‘ç¼“å­˜** | âœ… å¼€å¯ | 7 å¤© | `.cache/translate/` | ç¿»è¯‘ API ç»“æœ |
| **å·¥å…·ç¼“å­˜** | å¯é€‰ | è‡ªå®šä¹‰ | `.cache/tool_*/` | ä»»ä½•è‡ªå®šä¹‰å·¥å…· |

**ç¯å¢ƒå˜é‡é…ç½®ï¼š**
```bash
# å¼€å…³æ§åˆ¶
ENABLE_URL_CACHE=true
ENABLE_LLM_CACHE=false          # é»˜è®¤å…³é—­
ENABLE_PROMPT_CACHE=true
ENABLE_TRANSLATE_CACHE=true

# TTL é…ç½®ï¼ˆç§’ï¼‰
URL_CACHE_TTL=3600              # 1 å°æ—¶
LLM_CACHE_TTL=86400             # 24 å°æ—¶
PROMPT_CACHE_TTL=600            # 10 åˆ†é’Ÿ
TRANSLATE_CACHE_TTL=604800      # 7 å¤©

# å†…å­˜ç¼“å­˜é™åˆ¶
CACHE_MAX_MEMORY_ITEMS=100      # L1 ç¼“å­˜æœ€å¤§æ¡ç›®æ•°

# ç£ç›˜ç¼“å­˜é™åˆ¶
CACHE_MAX_DISK_SIZE_MB=5120     # æœ€å¤§ 5GB
```

### 3. ç¼“å­˜å·¥ä½œåŸç†

**åŒå±‚ç¼“å­˜æ¶æ„ï¼š**
```
Application Layer (Tools / Agent)
    â†“
L1 Cache (Memory)
- Python dict + TTL
- LRU eviction
- æ¯«ç§’çº§è®¿é—®
    â†“ (Miss)
L2 Cache (Disk)
- JSON files in .cache/
- 2-level directory structure
- æŒä¹…åŒ–ï¼Œè¿›ç¨‹é‡å¯åå¯å¤ç”¨
    â†“ (Miss)
Original Source (API/File/etc.)
```

**ç¼“å­˜é”®ç”Ÿæˆç­–ç•¥ï¼š**
- **URL ç¼“å­˜**ï¼š`SHA256(url)`
- **LLM ç¼“å­˜**ï¼š`SHA256(system_prompt_hash + recent_history + message + model + temperature)`
- **Prompt ç¼“å­˜**ï¼š`SHA256(file_mtimes)`ï¼ˆåŸºäºæ–‡ä»¶ä¿®æ”¹æ—¶é—´ï¼Œæ–‡ä»¶å˜åŒ–è‡ªåŠ¨å¤±æ•ˆï¼‰
- **ç¿»è¯‘ç¼“å­˜**ï¼š`SHA256(content + target_language)`
- **å·¥å…·ç¼“å­˜**ï¼š`SHA256(tool_name + args + kwargs)`

### 4. ä¸ºè‡ªå®šä¹‰å·¥å…·æ·»åŠ ç¼“å­˜

ä½¿ç”¨é€šç”¨è£…é¥°å™¨ `@cached_tool`ï¼Œåªéœ€ä¸€è¡Œä»£ç ï¼š

```python
from cache import cached_tool

@cached_tool("my_tool", ttl=1800)  # ç¼“å­˜ 30 åˆ†é’Ÿ
def my_tool(query: str) -> str:
    """è‡ªå®šä¹‰å·¥å…·"""
    # å·¥å…·é€»è¾‘
    return result
```

**ä¸ LangChain å·¥å…·ç»“åˆï¼š**
```python
from langchain_core.tools import tool
from cache import cached_tool

@tool
@cached_tool("search_tool", ttl=1800)
def search_tool(query: str) -> str:
    """æœç´¢å·¥å…·ï¼ˆå¸¦ç¼“å­˜ï¼‰"""
    # æœç´¢é€»è¾‘
    return results
```

### 5. ç¼“å­˜æœ€ä½³å®è·µ

**âœ… åº”è¯¥ç¼“å­˜çš„æ“ä½œï¼š**
- å¤–éƒ¨ API è°ƒç”¨ï¼ˆæ…¢ã€æœ‰é€Ÿç‡é™åˆ¶ï¼‰
- ç½‘é¡µæŠ“å–ï¼ˆç›¸åŒ URL é‡å¤è®¿é—®ï¼‰
- æ•°æ®åº“æŸ¥è¯¢ï¼ˆé‡å¤æŸ¥è¯¢ç›¸åŒæ•°æ®ï¼‰
- è®¡ç®—å¯†é›†å‹æ“ä½œï¼ˆç»“æœç¡®å®šï¼‰

**âŒ ä¸åº”è¯¥ç¼“å­˜çš„æ“ä½œï¼š**
- å‘½ä»¤æ‰§è¡Œï¼ˆ`terminal`ã€`bash`ï¼‰- æ¯æ¬¡å¯èƒ½äº§ç”Ÿä¸åŒç»“æœ
- ä»£ç æ‰§è¡Œï¼ˆ`python_repl`ï¼‰- æœ‰å‰¯ä½œç”¨
- å†™æ“ä½œï¼ˆ`write_file`ï¼‰- æœ‰å‰¯ä½œç”¨
- å‘é€æ“ä½œï¼ˆ`send_email`ï¼‰- æœ‰å‰¯ä½œç”¨
- å®æ—¶æ•°æ®æŸ¥è¯¢ï¼ˆ`get_current_time`ï¼‰- å¿…é¡»æœ€æ–°
- éšæœºç”Ÿæˆï¼ˆ`random_number`ï¼‰- æ¯æ¬¡åº”è¯¥ä¸åŒ

**è¯¦ç»†æ–‡æ¡£ï¼š**
- `backend/TOOL_CACHE_GUIDE.md` - ä½¿ç”¨æŒ‡å—
- `backend/CACHE_BEST_PRACTICES.md` - æœ€ä½³å®è·µ
- `UNIVERSAL_TOOL_CACHE.md` - é€šç”¨å·¥å…·ç¼“å­˜è¯´æ˜

### 6. æ€§èƒ½æå‡

| æ“ä½œ | æ— ç¼“å­˜ | æœ‰ç¼“å­˜ï¼ˆå‘½ä¸­ï¼‰ | æå‡ |
|------|--------|---------------|------|
| **ç½‘é¡µè¯·æ±‚** | ~500-2000ms | ~10-50ms | **10-100x** |
| **LLM è°ƒç”¨** | ~2000-5000ms | ~100-300msï¼ˆæ¨¡æ‹Ÿæµï¼‰ | **10-20x** |
| **Prompt æ‹¼æ¥** | ~50-100ms | ~1-5ms | **10-50x** |
| **ç¿»è¯‘ API** | ~1000-2000ms | ~5-20ms | **50-200x** |

**æ€»ä½“æ•ˆæœï¼š**
- é‡å¤æŸ¥è¯¢åœºæ™¯ï¼šå“åº”é€Ÿåº¦æå‡ **10-100 å€**
- Token æ¶ˆè€—ï¼šå‡å°‘ **50-90%**ï¼ˆLLM ç¼“å­˜å¼€å¯æ—¶ï¼‰
- ç”¨æˆ·ä½“éªŒï¼šç›¸åŒé—®é¢˜ç§’çº§å“åº”

## å››ã€VibeWorker çš„ Agent Skills ç³»ç»Ÿ
### 1. Agent Skills åŸºç¡€åŠŸèƒ½ä»‹ç»
VibeWorker çš„ Agent Skills éµå¾ª **"Instruction-following" (æŒ‡ä»¤éµå¾ª)** èŒƒå¼ï¼Œè€Œéä¼ ç»Ÿçš„ "Function-calling" (å‡½æ•°è°ƒç”¨) èŒƒå¼ã€‚è¿™æ„å‘³ç€ Skills æœ¬è´¨ä¸Šæ˜¯**æ•™ä¼š Agent å¦‚ä½•ä½¿ç”¨åŸºç¡€å·¥å…·ï¼ˆå¦‚ Python/Terminalï¼‰å»å®Œæˆä»»åŠ¡çš„è¯´æ˜ä¹¦**ï¼Œè€Œä¸æ˜¯é¢„å…ˆå†™å¥½çš„ Python å‡½æ•°ã€‚

Agent Skills ä»¥æ–‡ä»¶å¤¹å½¢å¼å­˜åœ¨äº `backend/skills/` ç›®å½•ä¸‹ã€‚


### 2. Agent Skills è½½å…¥ä¸æ‰§è¡Œæµç¨‹
#### 2.1 Agent Skills è¯»å–æµç¨‹ (Bootstrap)
åœ¨ Agent å¯åŠ¨æˆ–ä¼šè¯å¼€å§‹æ—¶ï¼Œç³»ç»Ÿæ‰«æ `skills` æ–‡ä»¶å¤¹ï¼Œè¯»å–æ¯ä¸ª `SKILL.md` çš„å…ƒæ•°æ®ï¼ˆFrontmatterï¼‰ï¼Œå¹¶å°†å…¶æ±‡æ€»ç”Ÿæˆ `SKILLS_SNAPSHOT.md`ã€‚

`**SKILLS_SNAPSHOT.md**`** ç¤ºä¾‹ï¼š**

```plain
<available_skills>  
  <skill>  
    <name>get_weather</name>  
    <description>è·å–æŒ‡å®šåŸå¸‚çš„å®æ—¶å¤©æ°”ä¿¡æ¯</description>  
    <location>./backend/skills/get_weather/SKILL.md</location> 
  </skill>
</available_skills>
```

_æ³¨æ„ï¼š_`_location_`_ ä½¿ç”¨ç›¸å¯¹è·¯å¾„ã€‚_

#### 2.2 Agent Skills è°ƒç”¨æµç¨‹ (Execution)
è¿™æ˜¯æœ¬ç³»ç»Ÿæœ€ç‹¬ç‰¹çš„åœ°æ–¹ï¼š

1. **æ„ŸçŸ¥**ï¼šAgent åœ¨ System Prompt ä¸­çœ‹åˆ° `available_skills` åˆ—è¡¨ã€‚
2. **å†³ç­–**ï¼šå½“ç”¨æˆ·è¯·æ±‚â€œæŸ¥è¯¢åŒ—äº¬å¤©æ°”â€æ—¶ï¼ŒAgent å‘ç° `get_weather` æŠ€èƒ½åŒ¹é…ã€‚
3. **è¡ŒåŠ¨ (Tool Call)**ï¼šAgent **ä¸è°ƒç”¨**`get_weather()` å‡½æ•°ï¼ˆå› ä¸ºå®ƒä¸å­˜åœ¨ï¼‰ï¼Œè€Œæ˜¯è°ƒç”¨ `**read_file(path="./backend/skills/get_weather/SKILL.md")**`ã€‚
4. **å­¦ä¹ ä¸æ‰§è¡Œ**ï¼šAgent è¯»å– Markdown å†…å®¹ï¼Œç†è§£æ“ä½œæ­¥éª¤ï¼ˆä¾‹å¦‚ï¼šâ€œä½¿ç”¨ fetch_url è®¿é—®æŸå¤©æ°” APIâ€ æˆ– â€œä½¿ç”¨ python_repl è¿è¡Œä»¥ä¸‹ä»£ç â€ï¼‰ï¼Œç„¶å**åŠ¨æ€è°ƒç”¨ Core Tools** (Terminal/Python) æ¥å®Œæˆä»»åŠ¡ã€‚

### 3. Agent Skills çš„ä¸€äº›ç‰¹æ€§
#### 3.1 å…¼å®¹Claude Code
æœ¬å·¥ç¨‹çš„Agent Skills éœ€è¦èƒ½å…¼å®¹æœ¬åœ°çš„Claude Codeæ’ä»¶ï¼ˆå³å¦‚æœæœ¬åœ°å®‰è£…äº†ClaudeCodeï¼ŒåŒæ ·å…è®¸ç”¨æˆ·å¯ä»¥ä½¿ç”¨åˆ°å®‰è£…åœ¨ClaudeCodeé‡Œçš„Skillï¼Œå¦‚æœç”¨æˆ·æ²¡æœ‰å®‰è£…Claude Codeåˆ™æ— å½±å“ï¼‰

#### 3.2 æŠ€èƒ½å•†åº— (Skills Store) âœ… å·²å®ç°
æä¾›ä¸€ä¸ªæŠ€èƒ½å•†åº—ï¼Œé›†æˆ [skills.sh](https://skills.sh/) ç”Ÿæ€ç³»ç»Ÿï¼š

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- æµè§ˆ 500+ ç¤¾åŒºæŠ€èƒ½
- æŒ‰åˆ†ç±»ç­›é€‰ï¼ˆå·¥å…·ã€æ•°æ®ã€ç½‘ç»œã€è‡ªåŠ¨åŒ–ã€é›†æˆç­‰ï¼‰
- å…³é”®è¯æœç´¢æŠ€èƒ½
- ä¸€é”®å®‰è£…åˆ°æœ¬åœ° `skills/` ç›®å½•
- åˆ†é¡µå±•ç¤ºï¼ˆæ¯é¡µ 12 ä¸ªæŠ€èƒ½ï¼‰
- æŸ¥çœ‹æŠ€èƒ½è¯¦æƒ…å’Œ SKILL.md å†…å®¹

**æŠ€æœ¯å®ç°ï¼š**
- åç«¯ `backend/store/` æ¨¡å—è´Ÿè´£ä¸ skills.sh äº¤äº’
- ä» skills.sh é¡µé¢æå–æŠ€èƒ½æ•°æ®ï¼ˆé€šè¿‡æ­£åˆ™åŒ¹é…åµŒå…¥çš„ JSONï¼‰
- ä» GitHub åŸå§‹å†…å®¹è·å– SKILL.md æ–‡ä»¶
- å‰ç«¯ `frontend/src/components/store/` æä¾›å•†åº— UI

**CLI å·¥å…·ï¼š**
```bash
# Linux/macOS
./scripts/skills.sh list              # åˆ—å‡ºæœ¬åœ°æŠ€èƒ½
./scripts/skills.sh search <query>    # æœç´¢è¿œç¨‹æŠ€èƒ½
./scripts/skills.sh install <name>    # å®‰è£…æŠ€èƒ½

# Windows
scripts\skills.bat list
scripts\skills.bat search <query>
scripts\skills.bat install <name>
```

#### 3.3 æŠ€èƒ½ç¿»è¯‘åŠŸèƒ½ âœ… å·²å®ç°
ç¼–è¾‘å™¨æ”¯æŒä¸€é”®å°† SKILL.md æ–‡ä»¶ç¿»è¯‘ä¸ºä¸­æ–‡ï¼š
- ç‚¹å‡»ç¿»è¯‘æŒ‰é’®ï¼Œè°ƒç”¨ LLM è¿›è¡Œæ™ºèƒ½ç¿»è¯‘
- ä»…ç¿»è¯‘æè¿°æ€§å†…å®¹ï¼Œä¿ç•™ä»£ç å—ã€URLã€å˜é‡åç­‰
- ç¿»è¯‘è¿‡ç¨‹ä¸­æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
- æ”¯æŒæ’¤é”€æ›´æ”¹æ¢å¤åŸæ–‡


## äº”ã€VibeWorker å¯¹è¯è®°å¿†ç®¡ç†ç³»ç»Ÿè®¾è®¡
### 1. æœ¬åœ°ä¼˜å…ˆåŸåˆ™
æ‰€æœ‰è®°å¿†æ–‡ä»¶ï¼ˆMarkdown/JSONï¼‰å‡å­˜å‚¨åœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œç¡®ä¿å®Œå…¨çš„æ•°æ®ä¸»æƒå’Œå¯è§£é‡Šæ€§ã€‚

### 2. ç³»ç»Ÿæç¤ºè¯ (System Prompt) æ„æˆ
System Prompt ç”±ä»¥ä¸‹ 6 éƒ¨åˆ†åŠ¨æ€æ‹¼æ¥è€Œæˆï¼ˆæŒ‰é¡ºåºï¼‰ï¼š

1. `SKILLS_SNAPSHOT.md` (èƒ½åŠ›åˆ—è¡¨)
2. `SOUL.md` (æ ¸å¿ƒè®¾å®š)
3. `IDENTITY.md` (è‡ªæˆ‘è®¤çŸ¥)
4. `USER.md` (ç”¨æˆ·ç”»åƒ)
5. `AGENTS.md` (è¡Œä¸ºå‡†åˆ™ & **è®°å¿†æ“ä½œæŒ‡å—**)
6. `MEMORY.md` (é•¿æœŸè®°å¿†)

**æˆªæ–­ç­–ç•¥**ï¼šå¦‚æœæ‹¼æ¥å Token è¶…å‡ºæ¨¡å‹é™åˆ¶ï¼ˆæˆ–å•æ–‡ä»¶è¶… 20k å­—ç¬¦ï¼‰ï¼Œéœ€å¯¹è¶…é•¿éƒ¨åˆ†è¿›è¡Œæˆªæ–­å¹¶åœ¨æœ«å°¾æ·»åŠ  `...[truncated]` æ ‡è¯†ã€‚

### 3. AGENTS.md çš„é»˜è®¤é…ç½® (æ ¸å¿ƒä¿®æ­£)
ç”±äº Agent é»˜è®¤å¹¶ä¸çŸ¥é“å®ƒæ˜¯é€šè¿‡â€œé˜…è¯»æ–‡ä»¶â€æ¥å­¦ä¹ æŠ€èƒ½çš„ï¼Œå› æ­¤å¿…é¡»åœ¨åˆå§‹åŒ–æ—¶ç”Ÿæˆä¸€ä¸ªåŒ…å«æ˜ç¡®æŒ‡ä»¤çš„ `AGENTS.md`ã€‚

+ **å¿…é¡»åŒ…å«çš„å…ƒæŒ‡ä»¤ (Meta-Instructions)**ï¼š

```plain
# æ“ä½œæŒ‡å—

## æŠ€èƒ½è°ƒç”¨åè®® (SKILL PROTOCOL)
ä½ æ‹¥æœ‰ä¸€ä¸ªæŠ€èƒ½åˆ—è¡¨ (SKILLS_SNAPSHOT)ï¼Œå…¶ä¸­åˆ—å‡ºäº†ä½ å¯ä»¥ä½¿ç”¨çš„èƒ½åŠ›åŠå…¶å®šä¹‰æ–‡ä»¶çš„ä½ç½®ã€‚
**å½“ä½ è¦ä½¿ç”¨æŸä¸ªæŠ€èƒ½æ—¶ï¼Œå¿…é¡»ä¸¥æ ¼éµå®ˆä»¥ä¸‹æ­¥éª¤ï¼š**
1. ä½ çš„ç¬¬ä¸€æ­¥è¡ŒåŠ¨æ°¸è¿œæ˜¯ä½¿ç”¨ `read_file` å·¥å…·è¯»å–è¯¥æŠ€èƒ½å¯¹åº”çš„ `location` è·¯å¾„ä¸‹çš„ Markdown æ–‡ä»¶ã€‚
2. ä»”ç»†é˜…è¯»æ–‡ä»¶ä¸­çš„å†…å®¹ã€æ­¥éª¤å’Œç¤ºä¾‹ã€‚
3. æ ¹æ®æ–‡ä»¶ä¸­çš„æŒ‡ç¤ºï¼Œç»“åˆä½ å†…ç½®çš„ Core Tools (terminal, python_repl, fetch_url) æ¥æ‰§è¡Œå…·ä½“ä»»åŠ¡ã€‚
**ç¦æ­¢**ç›´æ¥çŒœæµ‹æŠ€èƒ½çš„å‚æ•°æˆ–ç”¨æ³•ï¼Œå¿…é¡»å…ˆè¯»å–æ–‡ä»¶ï¼

## æŠ€èƒ½åˆ›å»ºåè®® (SKILL CREATION PROTOCOL)
å½“ç”¨æˆ·è¦æ±‚åˆ›å»ºæ–°æŠ€èƒ½æ—¶ï¼Œå¿…é¡»éµå®ˆä»¥ä¸‹æ ¼å¼è§„èŒƒï¼š
1. åœ¨ skills/ ç›®å½•ä¸‹åˆ›å»ºä»¥æŠ€èƒ½åå‘½åçš„æ–‡ä»¶å¤¹ï¼ˆè‹±æ–‡ã€å°å†™ã€ä¸‹åˆ’çº¿åˆ†éš”ï¼‰ã€‚
2. åœ¨è¯¥æ–‡ä»¶å¤¹å†…åˆ›å»º SKILL.md æ–‡ä»¶ï¼Œå¿…é¡»ä»¥ YAML Frontmatter å¼€å¤´ï¼š
   ---
   name: skill_name
   description: æŠ€èƒ½çš„ä¸­æ–‡æè¿°
   ---
3. ç¦æ­¢çœç•¥ Frontmatterï¼Œå¦åˆ™ç³»ç»Ÿæ— æ³•æ­£ç¡®è¯†åˆ«æŠ€èƒ½ã€‚

## è®°å¿†åè®®
...
```

### 4. ä¼šè¯å­˜å‚¨ (Sessions)
+ **è·¯å¾„**ï¼š`backend/sessions/{session_name}.json`
+ **æ ¼å¼**ï¼šæ ‡å‡† JSON æ•°ç»„ï¼ŒåŒ…å« `user`, `assistant`, `tool` (function calls) ç±»å‹çš„å®Œæ•´æ¶ˆæ¯è®°å½•ã€‚

## å…­ã€åç«¯ API æ¥å£è§„èŒƒ (FastAPI)
åç«¯æœåŠ¡ä½œä¸ºç‹¬ç«‹è¿›ç¨‹è¿è¡Œï¼Œè´Ÿè´£ Agent é€»è¾‘ã€æ–‡ä»¶è¯»å†™å’ŒçŠ¶æ€ç®¡ç†ã€‚

+ **æœåŠ¡ç«¯å£**ï¼š`8088`
+ **åŸºç¡€ URL**ï¼š`http://localhost:8088`

### 1. æ ¸å¿ƒå¯¹è¯æ¥å£
+ **Endpoint**: `POST /api/chat`
+ **åŠŸèƒ½**: å‘é€ç”¨æˆ·æ¶ˆæ¯ï¼Œè·å– Agent å›å¤ã€‚
+ **Request**:

```plain
{
  "message": "æŸ¥è¯¢ä¸€ä¸‹åŒ—äº¬çš„å¤©æ°”",
  "session_id": "main_session",
  "stream": true
}
```

+ **Response**: æ”¯æŒ **SSE (Server-Sent Events)** æµå¼è¾“å‡ºï¼Œå®æ—¶æ¨é€ Agent çš„æ€è€ƒè¿‡ç¨‹ (Thought/Tool Calls) å’Œæœ€ç»ˆå›å¤ã€‚

### 2. æ–‡ä»¶ç®¡ç†æ¥å£ (ç”¨äºå‰ç«¯ç¼–è¾‘å™¨)
+ **Endpoint**: `GET /api/files` - è¯»å–æŒ‡å®šæ–‡ä»¶å†…å®¹ï¼ˆQuery: `path=memory/MEMORY.md`ï¼‰ã€‚
+ **Endpoint**: `POST /api/files` - ä¿å­˜æ–‡ä»¶ä¿®æ”¹ï¼ˆBody: `{ "path": "...", "content": "..." }`ï¼‰ã€‚
+ **Endpoint**: `GET /api/files/tree` - è·å–é¡¹ç›®æ–‡ä»¶æ ‘ç»“æ„ï¼ˆQuery: `root=`ï¼Œå¯é€‰å­ç›®å½•ï¼‰ã€‚

### 3. ä¼šè¯ç®¡ç†æ¥å£
+ **Endpoint**: `GET /api/sessions` - è·å–æ‰€æœ‰å†å²ä¼šè¯åˆ—è¡¨ã€‚
+ **Endpoint**: `GET /api/sessions/{session_id}` - è·å–æŒ‡å®šä¼šè¯çš„æ¶ˆæ¯è®°å½•ã€‚
+ **Endpoint**: `POST /api/sessions` - åˆ›å»ºæ–°ä¼šè¯ã€‚
+ **Endpoint**: `DELETE /api/sessions/{session_id}` - åˆ é™¤æŒ‡å®šä¼šè¯ã€‚

### 4. æŠ€èƒ½ç®¡ç†æ¥å£
+ **Endpoint**: `GET /api/skills` - è·å–æ‰€æœ‰å·²å®‰è£…æŠ€èƒ½åˆ—è¡¨ï¼ˆå« name, description, locationï¼‰ã€‚
+ **Endpoint**: `DELETE /api/skills/{skill_name}` - åˆ é™¤æŒ‡å®šæŠ€èƒ½ï¼ˆåˆ é™¤æ•´ä¸ªæŠ€èƒ½æ–‡ä»¶å¤¹ï¼‰ã€‚

### 5. çŸ¥è¯†åº“æ¥å£
+ **Endpoint**: `POST /api/knowledge/rebuild` - å¼ºåˆ¶é‡å»º RAG çŸ¥è¯†åº“ç´¢å¼•ã€‚

### 6. è®¾ç½®ç®¡ç†æ¥å£
+ **Endpoint**: `GET /api/settings` - è·å–å½“å‰æ¨¡å‹é…ç½®ï¼ˆLLM/Embedding çš„ API Keyã€Base URLã€æ¨¡å‹åç§°ã€Temperatureã€Max Tokens ç­‰ï¼‰ï¼Œæ•°æ®è¯»å–è‡ª `.env` æ–‡ä»¶ã€‚
+ **Endpoint**: `PUT /api/settings` - æ›´æ–°æ¨¡å‹é…ç½®ï¼Œå†™å› `.env` æ–‡ä»¶ï¼ˆä¿ç•™æ³¨é‡Šå’ŒåŸæœ‰ç»“æ„ï¼‰ã€‚ä¿®æ”¹åéœ€é‡å¯åç«¯ç”Ÿæ•ˆã€‚

### 7. å¥åº·æ£€æŸ¥
+ **Endpoint**: `GET /api/health` - è¿”å›åç«¯çŠ¶æ€ã€ç‰ˆæœ¬å·å’Œå½“å‰æ¨¡å‹åç§°ã€‚

### 8. æŠ€èƒ½å•†åº—æ¥å£ âœ… å·²å®ç°
+ **Endpoint**: `GET /api/store/skills` - è·å–è¿œç¨‹æŠ€èƒ½åˆ—è¡¨ã€‚
    - Query å‚æ•°ï¼š`category`ï¼ˆåˆ†ç±»ç­›é€‰ï¼‰ã€`page`ï¼ˆé¡µç ï¼‰ã€`page_size`ï¼ˆæ¯é¡µæ•°é‡ï¼‰
    - è¿”å›ï¼šæŠ€èƒ½åˆ—è¡¨ã€æ€»æ•°ã€ç‰ˆæœ¬å·
+ **Endpoint**: `GET /api/store/search` - æœç´¢æŠ€èƒ½ã€‚
    - Query å‚æ•°ï¼š`q`ï¼ˆæœç´¢å…³é”®è¯ï¼‰
    - è¿”å›ï¼šåŒ¹é…çš„æŠ€èƒ½åˆ—è¡¨
+ **Endpoint**: `GET /api/store/skills/{name}` - è·å–æŠ€èƒ½è¯¦æƒ…ã€‚
    - è¿”å›ï¼šæŠ€èƒ½å…ƒæ•°æ®ã€SKILL.md å†…å®¹ã€æ‰€éœ€å·¥å…·ç­‰
+ **Endpoint**: `POST /api/store/install` - å®‰è£…æŠ€èƒ½ã€‚
    - Body: `{ "skill_name": "...", "version": "..." }`
    - è¿”å›ï¼šå®‰è£…çŠ¶æ€å’Œæ¶ˆæ¯
+ **Endpoint**: `POST /api/skills/{skill_name}/update` - æ›´æ–°å·²å®‰è£…æŠ€èƒ½ã€‚
+ **Endpoint**: `GET /api/store/categories` - è·å–å¯ç”¨åˆ†ç±»åˆ—è¡¨ã€‚

### 9. ç¿»è¯‘æ¥å£ âœ… å·²å®ç°
+ **Endpoint**: `POST /api/translate` - ç¿»è¯‘å†…å®¹ä¸ºä¸­æ–‡ã€‚
    - Body: `{ "content": "...", "target_language": "zh-CN" }`
    - è¿”å›ï¼š`{ "status": "ok", "translated": "...", "source_language": "en", "target_language": "zh-CN" }`
    - è¯´æ˜ï¼šä½¿ç”¨ LLM è¿›è¡Œæ™ºèƒ½ç¿»è¯‘ï¼Œä»…ç¿»è¯‘æè¿°æ€§æ–‡æœ¬ï¼Œä¿ç•™ä»£ç å—å’ŒæŠ€æœ¯æ ‡è¯†ç¬¦ã€‚

### 10. ç¼“å­˜ç®¡ç†æ¥å£ âœ… å·²å®ç°
+ **Endpoint**: `GET /api/cache/stats` - è·å–ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯ã€‚
    - è¿”å›ï¼šå„ç±»ç¼“å­˜çš„å‘½ä¸­ç‡ã€æœªå‘½ä¸­æ•°ã€å ç”¨å¤§å°ç­‰ç»Ÿè®¡æ•°æ®
    - åŒ…å«ï¼šURL ç¼“å­˜ã€LLM ç¼“å­˜ã€Prompt ç¼“å­˜ã€ç¿»è¯‘ç¼“å­˜çš„è¯¦ç»†ç»Ÿè®¡
+ **Endpoint**: `POST /api/cache/clear` - æ¸…ç©ºç¼“å­˜ã€‚
    - Query å‚æ•°ï¼š`cache_type`ï¼ˆurl/llm/prompt/translate/allï¼Œé»˜è®¤ allï¼‰
    - è¿”å›ï¼šæ¸…ç†ç»“æœå’ŒçŠ¶æ€
+ **Endpoint**: `POST /api/cache/cleanup` - æ¸…ç†è¿‡æœŸç¼“å­˜ã€‚
    - è‡ªåŠ¨æ¸…ç†æ‰€æœ‰è¿‡æœŸçš„ç¼“å­˜æ–‡ä»¶
    - è¿”å›ï¼šæ¸…ç†æ•°é‡å’ŒçŠ¶æ€

## ä¸ƒã€å‰ç«¯å¼€å‘è¦æ±‚
### 1. è®¾è®¡ç†å¿µä¸å¸ƒå±€æ¶æ„
å‰ç«¯é‡‡ç”¨ **IDEï¼ˆé›†æˆå¼€å‘ç¯å¢ƒï¼‰é£æ ¼**ï¼Œ**å¯æ‹–æ‹½è°ƒæ•´å®½åº¦çš„ä¸‰æ å¼å¸ƒå±€**ã€‚

+ **å·¦ä¾§ (Sidebar)**ï¼šå¯¼èˆª (Chat/Memory/Skills) + ä¼šè¯åˆ—è¡¨ã€‚
    - å®½åº¦èŒƒå›´ï¼š200px ~ 400pxï¼ˆé»˜è®¤ 256pxï¼‰ï¼Œå¯æ‹–æ‹½è°ƒæ•´ã€‚
    - ä¼šè¯æ ‡é¢˜ï¼šæœ€å¤šæ˜¾ç¤ºä¸¤è¡Œï¼Œè¶…å‡ºæˆªæ–­ï¼›æ— æ¶ˆæ¯çš„æ–°ä¼šè¯æ˜¾ç¤ºã€Œæ–°ä¼šè¯ã€ã€‚
    - æŠ€èƒ½åˆ—è¡¨ï¼šæ¯é¡¹å³ä¾§æ˜¾ç¤ºåˆ é™¤æŒ‰é’®ï¼ˆhover å¯è§ï¼‰ï¼Œç‚¹å‡»å¼¹å‡ºç¡®è®¤ååˆ é™¤ã€‚
+ **ä¸­é—´ (Stage)**ï¼šå¯¹è¯æµ + **æ€è€ƒé“¾å¯è§†åŒ–** (Collapsible Thoughts)ã€‚
    - å®½åº¦è‡ªé€‚åº”å¡«å……å‰©ä½™ç©ºé—´ã€‚
    - **å·¥å…·è°ƒç”¨å‹å¥½åŒ–å±•ç¤º**ï¼š
        * å·¥å…·åç§°æ˜ å°„ä¸ºä¸­æ–‡æ ‡ç­¾ + Emojiï¼ˆå¦‚ `read_file` -> ğŸ“„ è¯»å–æ–‡ä»¶ï¼‰ã€‚
        * è¾“å…¥å‚æ•°ä» JSON ä¸­æå–å…³é”®ä¿¡æ¯ä½œä¸ºæ‘˜è¦æ˜¾ç¤ºã€‚
        * å±•å¼€è¯¦æƒ…åï¼ŒInput å’Œ Output å‡ä½¿ç”¨ Markdown æ¸²æŸ“ï¼ˆä»£ç å—è¯­æ³•é«˜äº®ã€æ ‡é¢˜ã€åˆ—è¡¨ç­‰ï¼‰ï¼Œ`\n` è‡ªåŠ¨è½¬æ¢ä¸ºå®é™…æ¢è¡Œã€‚
    - **ç¼“å­˜æŒ‡ç¤ºå™¨** âœ… å·²å®ç°ï¼š
        * å·¥å…·è°ƒç”¨ä½¿ç”¨ç¼“å­˜æ—¶ï¼Œæ˜¾ç¤º âš¡ å›¾æ ‡ï¼ˆç°è‰²åŠé€æ˜ï¼Œä¸æ˜¾çœ¼ï¼‰ã€‚
        * é¼ æ ‡æ‚¬åœæ˜¾ç¤ºã€Œä½¿ç”¨ç¼“å­˜ã€æç¤ºã€‚
        * è‡ªåŠ¨æ£€æµ‹åç«¯è¿”å›çš„ `[CACHE_HIT]` æ ‡è®°æˆ– `cached: true` å­—æ®µã€‚
+ **å³ä¾§ (Inspector)**ï¼šMonaco Editorï¼Œç”¨äºå®æ—¶æŸ¥çœ‹/ç¼–è¾‘æ­£åœ¨ä½¿ç”¨çš„ `SKILL.md` æˆ– `MEMORY.md`ã€‚
    - å®½åº¦èŒƒå›´ï¼š280px ~ 600pxï¼ˆé»˜è®¤ 384pxï¼‰ï¼Œå¯æ‹–æ‹½è°ƒæ•´ã€‚
+ **åˆ†éš”æ¡**ï¼šå®½ 4pxï¼Œhover æ˜¾ç¤ºè“è‰²åŠé€æ˜é«˜äº®ï¼Œæ‹–æ‹½ä¸­é«˜äº®åŠ æ·±ã€‚

### 2. æŠ€æœ¯æ ˆ
+ **æ¡†æ¶**: Next.js 14+ (App Router), TypeScript
+ **UI**: Shadcn/UI, Tailwind CSS v4, Lucide Icons
+ **Editor**: Monaco Editor (é…ç½®ä¸º Light Theme)
+ **Markdown æ¸²æŸ“**: react-markdown + remark-gfm
+ **ä»£ç è¯­æ³•é«˜äº®**: react-syntax-highlighter (Prism, oneLight ä¸»é¢˜)
+ **å­—ä½“**: Google Fonts (Inter + JetBrains Mono)ï¼Œé€šè¿‡ layout.tsx ä¸­ link æ ‡ç­¾å¼•å…¥

### 3. UI/UX é£æ ¼è§„èŒƒ
+ **è‰²è°ƒ**: **æµ…è‰² Apple é£æ ¼ (Frosty Glass)**ã€‚
    - èƒŒæ™¯ï¼šçº¯ç™½/ææµ…ç° (`#fafafa`)ï¼Œé«˜é€æ¯›ç»ç’ƒæ•ˆæœã€‚
    - å¼ºè°ƒè‰²ï¼š**æ”¯ä»˜å®è“** (Alipay Blue) æˆ– **é˜¿é‡Œæ©™**ã€‚
+ **å¯¼èˆªæ **: é¡¶éƒ¨å›ºå®šï¼ŒåŠé€æ˜ã€‚
    - å·¦ä¾§ï¼š**"VibeWorker"** + ç‰ˆæœ¬å·
    - å³ä¾§ï¼šåç«¯çŠ¶æ€æŒ‡ç¤ºå™¨ï¼ˆåœ¨çº¿/ç¦»çº¿ï¼‰+ âš™ï¸ è®¾ç½®æŒ‰é’®ï¼ˆå¼¹çª—é…ç½® LLM/Embedding æ¨¡å‹å‚æ•°ï¼‰+ Inspector å¼€å…³æŒ‰é’®
+ **è®¾ç½®å¼¹çª— (Settings Dialog)**ï¼š
    - ç‚¹å‡»å¯¼èˆªæ è®¾ç½®æŒ‰é’®æ‰“å¼€ï¼Œåˆ†ã€ŒLLM æ¨¡å‹ã€å’Œã€ŒEmbedding æ¨¡å‹ã€ä¸¤ä¸ªåˆ†ç»„ã€‚
    - æ”¯æŒé…ç½® API Keyï¼ˆå¯†ç æ¨¡å¼ï¼Œå¯åˆ‡æ¢æ˜¾ç¤ºï¼‰ã€API Base URLã€æ¨¡å‹åç§°ã€Temperatureã€Max Tokensã€‚
    - ä¿å­˜åè‡ªåŠ¨å…³é—­å¼¹çª—ï¼Œé…ç½®å†™å…¥åç«¯ `.env` æ–‡ä»¶ã€‚
+ **ä»£ç å—æ ·å¼**ï¼š
    - å·¥å…·è°ƒç”¨è¯¦æƒ…ä¸­çš„ä»£ç å—é‡‡ç”¨æµ…è‰²èƒŒæ™¯ï¼ˆ`#f6f8fb`ï¼‰+ è“è‰²å·¦è¾¹æ¡ + Prism è¯­æ³•é«˜äº®ã€‚
    - ä½¿ç”¨ JetBrains Mono ç­‰å®½å­—ä½“ï¼Œå­—å· `0.7rem`ã€‚


## å…«ã€é¡¹ç›®ç›®å½•ç»“æ„å‚è€ƒ
å»ºè®® Claude Code æŒ‰ç…§ä»¥ä¸‹ç»“æ„è¿›è¡Œåˆå§‹åŒ–ï¼š

```plain
vibeworker/
â”œâ”€â”€ backend/                # FastAPI + LangChain/LangGraph
â”‚   â”œâ”€â”€ app.py              # å…¥å£æ–‡ä»¶ (Port 8088)
â”‚   â”œâ”€â”€ config.py           # Pydantic Settings é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ prompt_builder.py   # System Prompt åŠ¨æ€æ‹¼æ¥
â”‚   â”œâ”€â”€ sessions_manager.py # ä¼šè¯ç®¡ç†å™¨
â”‚   â”œâ”€â”€ .env                # ç¯å¢ƒå˜é‡ (API Key ç­‰)
â”‚   â”œâ”€â”€ cache/              # æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ âœ…
â”‚   â”‚   â”œâ”€â”€ __init__.py     # ç¼“å­˜æ¨¡å—å…¥å£ï¼ˆå¯¼å‡ºå…¨å±€ç¼“å­˜å®ä¾‹ï¼‰
â”‚   â”‚   â”œâ”€â”€ base.py         # åŸºç¡€ç¼“å­˜ç±»æ¥å£
â”‚   â”‚   â”œâ”€â”€ memory_cache.py # L1 å†…å­˜ç¼“å­˜ï¼ˆLRU + TTLï¼‰
â”‚   â”‚   â”œâ”€â”€ disk_cache.py   # L2 ç£ç›˜ç¼“å­˜ï¼ˆJSON å­˜å‚¨ï¼‰
â”‚   â”‚   â”œâ”€â”€ url_cache.py    # URL ä¸“ç”¨ç¼“å­˜
â”‚   â”‚   â”œâ”€â”€ llm_cache.py    # LLM ä¸“ç”¨ç¼“å­˜ï¼ˆå«æµå¼å¤„ç†ï¼‰
â”‚   â”‚   â”œâ”€â”€ prompt_cache.py # Prompt æ‹¼æ¥ç¼“å­˜
â”‚   â”‚   â”œâ”€â”€ translate_cache.py # ç¿»è¯‘ç¼“å­˜
â”‚   â”‚   â””â”€â”€ tool_cache_decorator.py # é€šç”¨å·¥å…·ç¼“å­˜è£…é¥°å™¨
â”‚   â”œâ”€â”€ store/              # æŠ€èƒ½å•†åº—æ¨¡å— âœ…
â”‚   â”‚   â”œâ”€â”€ __init__.py     # SkillsStore æ ¸å¿ƒé€»è¾‘ (skills.sh é›†æˆ)
â”‚   â”‚   â””â”€â”€ models.py       # Pydantic æ¨¡å‹ (RemoteSkill, SkillDetail ç­‰)
â”‚   â”œâ”€â”€ memory/             # è®°å¿†å­˜å‚¨
â”‚   â”‚   â”œâ”€â”€ logs/           # Daily logs
â”‚   â”‚   â””â”€â”€ MEMORY.md       # Core memory
â”‚   â”œâ”€â”€ sessions/           # JSON ä¼šè¯è®°å½•
â”‚   â”œâ”€â”€ skills/             # Agent Skills æ–‡ä»¶å¤¹ (æœ¬åœ°å·²å®‰è£…æŠ€èƒ½)
â”‚   â”œâ”€â”€ workspace/          # System Prompts (SOUL.md, AGENTS.md, etc.)
â”‚   â”œâ”€â”€ tools/              # Core Tools å®ç°
â”‚   â”œâ”€â”€ graph/              # LangGraph Agent ç¼–æ’
â”‚   â”‚   â””â”€â”€ agent.py        # create_agent é…ç½®
â”‚   â”œâ”€â”€ knowledge/          # RAG çŸ¥è¯†åº“æ–‡æ¡£å­˜æ”¾
â”‚   â”œâ”€â”€ storage/            # ç´¢å¼•æŒä¹…åŒ–å­˜å‚¨
â”‚   â””â”€â”€ requirements.txt
â”‚
â”œâ”€â”€ frontend/               # Next.js 14+ (App Router)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx  # æ ¹å¸ƒå±€ (å­—ä½“å¼•å…¥)
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx    # ä¸‰æ å¯æ‹–æ‹½å¸ƒå±€
â”‚   â”‚   â”‚   â””â”€â”€ globals.css # å…¨å±€ CSS ä¸»é¢˜ä¸ç»„ä»¶æ ·å¼
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ chat/       # ChatPanel (å¯¹è¯æµ + å·¥å…·è°ƒç”¨å¯è§†åŒ–)
â”‚   â”‚   â”‚   â”œâ”€â”€ sidebar/    # Sidebar (ä¼šè¯/è®°å¿†/æŠ€èƒ½å¯¼èˆª + å•†åº—å…¥å£)
â”‚   â”‚   â”‚   â”œâ”€â”€ editor/     # InspectorPanel (Monaco Editor + ç¿»è¯‘åŠŸèƒ½)
â”‚   â”‚   â”‚   â”œâ”€â”€ store/      # æŠ€èƒ½å•†åº—ç»„ä»¶ âœ…
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SkillsStoreDialog.tsx  # å•†åº—å¼¹çª—ä¸»ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SkillCard.tsx          # æŠ€èƒ½å¡ç‰‡
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ SkillDetail.tsx        # æŠ€èƒ½è¯¦æƒ…é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ settings/   # SettingsDialog (æ¨¡å‹é…ç½®å¼¹çª—)
â”‚   â”‚   â”‚   â””â”€â”€ ui/         # Shadcn/UI åŸºç¡€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ lib/
â”‚   â”‚       â””â”€â”€ api.ts      # API å®¢æˆ·ç«¯ (å« Store/Translate API)
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ scripts/                # CLI å·¥å…· âœ…
â”‚   â”œâ”€â”€ skills.sh           # Linux/macOS æŠ€èƒ½ç®¡ç†è„šæœ¬
â”‚   â””â”€â”€ skills.bat          # Windows æŠ€èƒ½ç®¡ç†è„šæœ¬
â”‚
â””â”€â”€ README.md
```

